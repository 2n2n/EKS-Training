---
# Application Configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: default
data:
  # Application settings
  APP_NAME: "My Application"
  APP_ENV: "production"
  APP_DEBUG: "false"
  APP_PORT: "3000"
  
  # Logging
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
  
  # Database connection (non-sensitive)
  DATABASE_HOST: "mysql.default.svc.cluster.local"
  DATABASE_PORT: "3306"
  DATABASE_POOL_MIN: "2"
  DATABASE_POOL_MAX: "10"
  DATABASE_TIMEOUT: "30000"
  
  # Cache configuration
  CACHE_ENABLED: "true"
  CACHE_TTL: "3600"
  CACHE_MAX_SIZE: "100"
  
  # Feature flags
  FEATURE_NEW_UI: "true"
  FEATURE_ANALYTICS: "true"
  FEATURE_BETA: "false"
  
  # API settings
  API_RATE_LIMIT: "100"
  API_TIMEOUT: "30"
  API_MAX_RETRIES: "3"

---
# Nginx Configuration Example
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-config
  namespace: default
data:
  nginx.conf: |
    user nginx;
    worker_processes auto;
    error_log /var/log/nginx/error.log warn;
    pid /var/run/nginx.pid;
    
    events {
      worker_connections 1024;
    }
    
    http {
      include /etc/nginx/mime.types;
      default_type application/octet-stream;
      
      log_format main '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';
      
      access_log /var/log/nginx/access.log main;
      
      sendfile on;
      tcp_nopush on;
      keepalive_timeout 65;
      gzip on;
      
      # Backend upstream
      upstream backend {
        server backend-service:3000;
      }
      
      server {
        listen 80;
        server_name localhost;
        
        location / {
          root /usr/share/nginx/html;
          index index.html;
          try_files $uri $uri/ /index.html;
        }
        
        location /api {
          proxy_pass http://backend;
          proxy_set_header Host $host;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto $scheme;
        }
        
        location /health {
          access_log off;
          return 200 "healthy\n";
        }
      }
    }

---
# Application Properties (Java-style)
apiVersion: v1
kind: ConfigMap
metadata:
  name: application-properties
  namespace: default
data:
  application.properties: |
    # Server Configuration
    server.port=8080
    server.servlet.context-path=/api
    
    # Database Configuration
    spring.datasource.url=jdbc:mysql://mysql:3306/myappdb
    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
    spring.datasource.hikari.maximum-pool-size=10
    spring.datasource.hikari.minimum-idle=2
    
    # JPA Configuration
    spring.jpa.hibernate.ddl-auto=validate
    spring.jpa.show-sql=false
    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
    
    # Logging
    logging.level.root=INFO
    logging.level.com.myapp=DEBUG
    logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
    
    # Cache
    spring.cache.type=simple
    spring.cache.cache-names=users,products

---
# Redis Configuration Example
apiVersion: v1
kind: ConfigMap
metadata:
  name: redis-config
  namespace: default
data:
  redis.conf: |
    # Redis Configuration
    bind 0.0.0.0
    protected-mode yes
    port 6379
    tcp-backlog 511
    timeout 0
    tcp-keepalive 300
    
    # Memory
    maxmemory 256mb
    maxmemory-policy allkeys-lru
    
    # Persistence
    save 900 1
    save 300 10
    save 60 10000
    
    # Logging
    loglevel notice
    logfile ""
    
    # Security
    # requirepass your-redis-password-here

